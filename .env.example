# Context Memory + LLM Gateway - Environment Configuration
# Copy this file to .env and update with your values

# =============================================================================
# CORE APPLICATION SETTINGS
# =============================================================================

# Environment (development, staging, production)
ENVIRONMENT=development

# Debug mode (true/false)
DEBUG=true

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=DEBUG

# Secret key for JWT and other cryptographic operations
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-secret-key-here-change-in-production

# Server configuration
SERVER_HOST=0.0.0.0
SERVER_PORT=8000

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL connection URL
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://cmg_user:cmg_password@localhost:5432/context_memory_gateway

# Database pool settings
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis connection URL
# Format: redis://host:port/database
REDIS_URL=redis://localhost:6379/0

# Redis connection pool settings
REDIS_POOL_SIZE=10
REDIS_POOL_TIMEOUT=5

# =============================================================================
# VECTOR DATABASE (OPTIONAL)
# =============================================================================

# Qdrant connection URL (optional, for advanced vector operations)
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=

# =============================================================================
# OPENROUTER INTEGRATION
# =============================================================================

# OpenRouter API key (required)
# Get from: https://openrouter.ai/keys
OPENROUTER_API_KEY=your-openrouter-api-key-here

# OpenRouter API base URL
OPENROUTER_API_BASE=https://openrouter.ai/api/v1

# Default model for LLM requests
DEFAULT_MODEL=openai/gpt-4

# Maximum tokens per request
MAX_TOKENS=4096

# Request timeout in seconds
REQUEST_TIMEOUT=60

# =============================================================================
# RATE LIMITING
# =============================================================================

# Rate limiting configuration
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# Burst allowance (requests above limit allowed temporarily)
RATE_LIMIT_BURST=20

# =============================================================================
# CONTEXT MEMORY SETTINGS
# =============================================================================

# Default token budget for working sets
DEFAULT_TOKEN_BUDGET=8000

# Maximum number of context items in a working set
MAX_CONTEXT_ITEMS=50

# Embedding model for context similarity
EMBEDDING_MODEL=text-embedding-ada-002

# Context item expiration (days)
CONTEXT_EXPIRATION_DAYS=30

# Minimum similarity threshold for context retrieval
MIN_SIMILARITY_THRESHOLD=0.7

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# Trusted hosts (comma-separated)
TRUSTED_HOSTS=localhost,127.0.0.1

# API key prefix
API_KEY_PREFIX=cmg_

# API key length
API_KEY_LENGTH=32

# =============================================================================
# MONITORING AND OBSERVABILITY
# =============================================================================

# Enable metrics collection
METRICS_ENABLED=true

# Sentry DSN for error tracking (optional)
SENTRY_DSN=

# Sentry environment
SENTRY_ENVIRONMENT=development

# Sentry sample rate (0.0 to 1.0)
SENTRY_SAMPLE_RATE=1.0

# =============================================================================
# BACKGROUND WORKERS
# =============================================================================

# Number of worker processes
WORKER_PROCESSES=2

# Worker queue names (comma-separated)
WORKER_QUEUES=default,high,low

# Job timeout in seconds
JOB_TIMEOUT=300

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================

# DigitalOcean Spaces (S3-compatible) configuration (optional)
DO_SPACES_KEY=
DO_SPACES_SECRET=
DO_SPACES_ENDPOINT=
DO_SPACES_BUCKET=
DO_SPACES_REGION=

# Local storage path for development
LOCAL_STORAGE_PATH=./data

# =============================================================================
# EMAIL CONFIGURATION (OPTIONAL)
# =============================================================================

# SMTP configuration for notifications
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_TLS=true
SMTP_FROM=noreply@yourdomain.com

# =============================================================================
# ADMIN INTERFACE
# =============================================================================

# Admin interface settings
ADMIN_ENABLED=true
ADMIN_PATH=/admin

# Default admin credentials (change in production)
ADMIN_USERNAME=admin
ADMIN_PASSWORD=admin

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Auto-reload on code changes (development only)
RELOAD=true

# Enable debug toolbar (development only)
DEBUG_TOOLBAR=true

# Log SQL queries (development only)
LOG_SQL=false

# =============================================================================
# GRAFANA CONFIGURATION (OPTIONAL)
# =============================================================================

# Grafana admin password
GRAFANA_PASSWORD=admin

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable experimental features
ENABLE_EXPERIMENTAL_FEATURES=false

# Enable context memory features
ENABLE_CONTEXT_MEMORY=true

# Enable usage analytics
ENABLE_USAGE_ANALYTICS=true

# Enable model catalog sync
ENABLE_MODEL_SYNC=true

